{"version":3,"file":"product.js","mappings":"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","sources":["webpack://e-commerce/./frontend/assets/js/productApi.js","webpack://e-commerce/./frontend/assets/js/messages.js","webpack://e-commerce/./frontend/assets/js/product/product.js","webpack://e-commerce/./frontend/assets/js/product/getProductId.js","webpack://e-commerce/./frontend/assets/js/localStorageSaverAndGet.js"],"sourcesContent":["class ProductsRoutes {\n    constructor() {\n        Object.defineProperty(this, \"mainRoute\", {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: 'https://dummyjson.com'\n        })\n        Object.defineProperty(this, \"allProductsRoute\", {\n            enumerable: true,\n            writable: false,\n            configurable:false,\n            value: `${this.mainRoute}/products`\n        })\n        let searchLink = null;\n        Object.defineProperty(this, \"setSearchRoute\", {\n            get: function() {\n                return searchLink;\n            },\n            set: function(value) {\n                if(typeof value !== \"string\") return;\n                if(!value) return;\n                searchLink = `${this.mainRoute}/products/search?q=${value}`;\n            }\n        })\n        let singleId = null;\n        Object.defineProperty(this, \"setSingleRoute\", {\n            enumerable: true,\n            configurable: false,\n            get: function() {\n                return singleId;\n            },\n            set: function(id) { // https://dummyjson.com/products/2\n                if(typeof id !== \"string\") return;\n                if(!id) return;\n                singleId = `${this.mainRoute}/products/${id}`;\n            }\n        })\n        Object.defineProperty(this, \"allCategoriesRoute\", {\n            enumerable: true,\n            writable: false,\n            configurable:false,\n            value: `${this.mainRoute}/products/categories`\n        })\n        let searchCategory = null;\n        Object.defineProperty(this, \"setCategoryRoute\", {\n            get: function() {\n                return searchCategory;\n            },\n            set: function(value) {\n                if(typeof value !== \"string\") return;\n                if(!value) return;\n                searchCategory = `${this.mainRoute}/products/category/${value}`;\n            }\n        })\n        let comments = null;\n        Object.defineProperty(this, \"setCommentsRoute\", {\n            get: function() {\n                return comments;\n            },\n            set: function(limit) {\n                if(typeof limit !== \"string\") return;\n                if(!limit) return;\n                comments = `${this.mainRoute}/comments?limit=${limit}`;\n            }\n        })\n    }\n\n    static fetchRoute(route, callback) {\n        try {\n            fetch(route).then(res => {\n                res.json().then(data => {\n                    if(callback) callback(data);\n                });\n            });\n        } catch(err) {\n            throw new Error(err);\n        }\n    }\n\n    getAllProducts(skip=0, limit=30, callback) {\n        ProductsRoutes.fetchRoute(`${this.allProductsRoute}?skip=${skip}&limit=${limit}`, callback);\n    }\n\n    setSearchProducts(input, callback) {\n        this.setSearchRoute = input;\n        ProductsRoutes.fetchRoute(this.setSearchRoute, callback);\n    }\n    \n    getAllCategories(callback) {\n        ProductsRoutes.fetchRoute(this.allCategoriesRoute, callback);\n    }\n\n    setCategoryProducts(input, callback) {\n        this.setCategoryRoute = input;\n        ProductsRoutes.fetchRoute(this.setCategoryRoute, callback);\n    }\n\n    getSingleProduct(id, callback) {\n        this.setSingleRoute = id;\n        ProductsRoutes.fetchRoute(this.setSingleRoute, callback);\n    }\n\n    getComments(limit, callback) {\n        this.setCommentsRoute = limit;\n        ProductsRoutes.fetchRoute(this.setCommentsRoute, callback);\n    }\n}\n\nconst productsMethods = new ProductsRoutes();\nexport default productsMethods;\n","const message = document.querySelector(\".message\");\nconst messageP = document.querySelector(\".message > p\");\nconst counterAdded = document.querySelector(\".message > .counter-added\");\nlet counter = 1;\n\nexport default (type, text) => {\n    message.addEventListener(\"animationend\", () => {\n        message.classList.remove(\"active\");\n    });\n    if(message.classList.contains(\"active\")) {\n        counter++;\n        counterAdded.style.display = \"block\";\n        counterAdded.innerText = counter;\n    } else {\n        counterAdded.style.display = \"none\";\n        message.classList.add(\"active\");\n        setTimeout(() => {\n            counter = 1;\n        }, 4000);\n    }\n    messageP.innerText = text;\n    if(type === \"danger\") {\n        message.classList.add(\"danger\");\n    } else if(type === \"success\") {\n        message.classList.add(\"success\");\n    }\n}","import {localStorageSave, localStorageGet} from \"../localStorageSaverAndGet\";\nimport messages from \"../messages\";\n\nexport default class Product {\n    constructor(product) {\n        this.product = product;\n    }\n\n    create() {\n        const parentEl = document.querySelector(\".product-item\");\n\n        this.categoryBrand();\n        this.productImgs();\n        this.productInfoBuy();\n    }\n\n    categoryBrand() {\n        const categoryEl = document.querySelector(\".category-brand > .category > .path-item\");\n        const brandEl = document.querySelector(\".category-brand > .brand > .path-item\");\n\n        categoryEl.innerText = this.product.category;\n        brandEl.innerText = this.product.brand;\n    }\n\n    productImgs() {\n        const mainImgEl = document.querySelector(\".product-imgs > .main-img > img\");\n        const galleryImgsEl = document.querySelector(\".product-imgs > .gallery-imgs\");\n\n        mainImgEl.setAttribute(\"src\", this.product.thumbnail);\n        mainImgEl.setAttribute(\"alt\", this.product.title);\n\n        const galleryImgsItems = () => {\n            this.product.images.forEach((value, id) => {\n                const buttonEl = document.createElement(\"button\");\n                buttonEl.classList.add(\"gallery-item\");\n\n                buttonEl.addEventListener(\"mouseover\", () => {\n                    mainImgEl.setAttribute(\"src\", value);\n                    document.querySelectorAll(\".gallery-item\").forEach(item => {\n                        item.style.opacity = \"1\";\n                    });\n                    buttonEl.style.opacity = \".5\";\n                });\n                \n                const img = document.createElement(\"img\");\n                img.setAttribute(\"src\", value);\n                img.setAttribute(\"alt\", `Gallery image ${id}`);\n\n                buttonEl.appendChild(img);\n\n                galleryImgsEl.appendChild(buttonEl);\n            });\n        }\n\n        galleryImgsItems();\n    }\n\n    productInfoBuy() {\n        const title = document.querySelector(\".product-info-buy > .container-title > h1\");\n        const description = document.querySelector(\".product-info-buy > .container-description > p\");\n        const rating = document.querySelector(\".product-info-buy > .container-rating > span\");\n        const price = document.querySelector(\".product-info-buy > .container-price > .price > .value\");\n        const discount = document.querySelector(\".product-info-buy > .container-price > .discount > .value\");\n        const stock = document.querySelector(\".product-info-buy > .container-stock .value\");\n        const btnBuy = document.querySelector(\".product-info-buy > .container-buy .btn-buy\");\n        const btnAddCart = document.querySelector(\".product-info-buy > .container-buy .btn-add-cart\");\n\n        title.innerText = this.product.title;\n        description.innerText = this.product.description;\n        ratingStars(this.product.rating).forEach(star => {\n            rating.appendChild(star);\n        });\n        rating.innerHTML += this.product.rating;\n        price.innerText = this.product.price;\n        discount.innerText = this.product.discountPercentage;\n        stock.innerText = this.product.stock;\n\n        function ratingStars(rating) {\n            let stars = [];\n            const ratingInt = Number(String(rating).slice(0, String(rating).indexOf(\".\")));\n            const ratingDec = Number(String(rating).slice(String(rating).indexOf(\".\")));\n\n            for(let i = 0; i < ratingInt; i++) {\n                stars.push(spanStar());\n            }\n\n            console.log(ratingDec);\n\n            if(ratingDec < .5) {\n                stars.push(spanStar(true));\n            } else {\n                stars.push(spanStar());\n            }\n\n            function spanStar(half) {\n                const span = document.createElement(\"span\");\n                span.classList.add(\"rating-star\", \"material-symbols-outlined\", \"fill-icon\");\n                if(half) {\n                    span.innerText = \"star_half\";\n                    return span;\n                }\n                span.innerText = \"star\";\n                return span;\n            }\n\n            return stars;\n        }\n\n        btnBuy.addEventListener(\"click\", () => {\n            const addCartItemLclStrg = Product.addCartItemLclStrg.bind(this);\n            addCartItemLclStrg();\n        });\n        btnAddCart.addEventListener(\"click\", () => {\n            const addCartItemLclStrg = Product.addCartItemLclStrg.bind(this);\n            addCartItemLclStrg();\n            messages(\"success\", \"Product successfully added to cart\");\n        });\n    }\n\n    static addCartItemLclStrg() {\n        let oldValue;\n        oldValue = localStorageGet(\"cart-items\");\n        const itemId = new URLSearchParams(window.location.search).get(\"id\");\n        if(!itemId) return;\n        if(typeof itemId !== \"string\") return;\n\n         if(oldValue === null) {\n            localStorageSave(\"cart-items\", itemId);\n            return;\n        };\n\n        localStorageSave(\"cart-items\", `${oldValue}, ${itemId}`);\n    }\n}\n","import productsMethods from \"../productApi\";\nimport Product from \"./product\";\n\n(() => {\n    const productId = new URLSearchParams(window.location.search).get(\"id\");\n    if(!productId) return;\n    if(typeof productId !== \"string\") return;\n\n    /* productsMethods.getComments(\"30\", res => {\n        console.log(res);\n    }); */\n    \n    productsMethods.getSingleProduct(productId, res => {\n        const product = new Product(res);\n        product.create();\n    });\n})();","function localStorageSave(key, value) {\n    if(typeof key !== \"string\") throw(\"Key must be string\");\n    if(key.length < 3) throw(\"Key must be greater than 2\");\n\n    value = JSON.stringify(value);\n    localStorage.setItem(key, value);\n    /* console.log(\"Key:\", key, \"| value\", value, \"| > saved \");\n    console.log(`Type of key: ${typeof key}, Type of value ${typeof value}`); */\n}\n\nfunction localStorageGet(key) {\n    if(typeof key !== \"string\") throw(\"Key must be string\");\n    if(key.length < 3) throw(\"Key must be greater than 2\");\n\n    const value = localStorage.getItem(key);\n    return JSON.parse(value);\n}\n\nfunction localStorageRemove(key) {\n    if(typeof key !== \"string\") throw(\"Key must be string\");\n\n    localStorage.removeItem(key);\n}\n\nexport {localStorageSave, localStorageGet, localStorageRemove};"],"names":["ProductsRoutes","_classCallCheck","Object","defineProperty","this","enumerable","writable","configurable","value","concat","mainRoute","searchLink","get","set","singleId","id","searchCategory","comments","limit","key","skip","arguments","length","undefined","callback","fetchRoute","allProductsRoute","input","setSearchRoute","allCategoriesRoute","setCategoryRoute","setSingleRoute","setCommentsRoute","route","fetch","then","res","json","data","err","Error","message","document","querySelector","messageP","counterAdded","counter","productId","Product","product","oldValue","localStorage","getItem","JSON","parse","itemId","URLSearchParams","window","location","search","stringify","setItem","localStorageSave","categoryBrand","productImgs","productInfoBuy","categoryEl","brandEl","innerText","category","brand","mainImgEl","galleryImgsEl","setAttribute","thumbnail","title","images","forEach","buttonEl","createElement","classList","add","addEventListener","querySelectorAll","item","style","opacity","img","appendChild","_this2","description","rating","price","discount","stock","btnBuy","btnAddCart","stars","ratingInt","Number","String","slice","indexOf","ratingDec","i","push","spanStar","half","span","console","log","ratingStars","star","innerHTML","discountPercentage","addCartItemLclStrg","bind","remove","contains","display","setTimeout","productsMethods","getSingleProduct","create"],"sourceRoot":""}