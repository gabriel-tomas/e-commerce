(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(e){var o=function(e,o){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(o)?o:String(o)}const r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"mainRoute",{enumerable:!0,writable:!1,configurable:!1,value:"https://dummyjson.com"}),Object.defineProperty(this,"allProductsRoute",{enumerable:!0,writable:!1,configurable:!1,value:"".concat(this.mainRoute,"/products")});var e=null;Object.defineProperty(this,"setSearchRoute",{get:function(){return e},set:function(t){"string"==typeof t&&t&&(e="".concat(this.mainRoute,"/products/search?q=").concat(t))}});var o=null;Object.defineProperty(this,"setSingleRoute",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){"string"==typeof t&&t&&(o="".concat(this.mainRoute,"/products/").concat(t))}}),Object.defineProperty(this,"allCategoriesRoute",{enumerable:!0,writable:!1,configurable:!1,value:"".concat(this.mainRoute,"/products/categories")});var r=null;Object.defineProperty(this,"setCategoryRoute",{get:function(){return r},set:function(t){"string"==typeof t&&t&&(r="".concat(this.mainRoute,"/products/category/").concat(t))}});var n=null;Object.defineProperty(this,"setCommentsRoute",{get:function(){return n},set:function(t){"string"==typeof t&&t&&(n="".concat(this.mainRoute,"/comments?limit=").concat(t))}})}var o,r,n;return o=t,r=[{key:"getAllProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2?arguments[2]:void 0;t.fetchRoute("".concat(this.allProductsRoute,"?skip=").concat(e,"&limit=").concat(o),r)}},{key:"setSearchProducts",value:function(e,o){this.setSearchRoute=e,t.fetchRoute(this.setSearchRoute,o)}},{key:"getAllCategories",value:function(e){t.fetchRoute(this.allCategoriesRoute,e)}},{key:"setCategoryProducts",value:function(e,o){this.setCategoryRoute=e,t.fetchRoute(this.setCategoryRoute,o)}},{key:"getSingleProduct",value:function(e,o){this.setSingleRoute=e,t.fetchRoute(this.setSingleRoute,o)}},{key:"getComments",value:function(e,o){this.setCommentsRoute=e,t.fetchRoute(this.setCommentsRoute,o)}}],n=[{key:"fetchRoute",value:function(t,e){try{fetch(t).then((function(t){t.json().then((function(t){e&&e(t)}))}))}catch(t){throw new Error(t)}}}],r&&e(o.prototype,r),n&&e(o,n),Object.defineProperty(o,"prototype",{writable:!1}),t}());function n(t){if("string"!=typeof t)throw"Key must be string";if(t.length<3)throw"Key must be greater than 2";var e=localStorage.getItem(t);return JSON.parse(e)}var i=document.querySelector(".message"),c=document.querySelector(".message > p"),u=document.querySelector(".message > .counter-added"),a=document.querySelector(".message > .close-message"),l=1;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function d(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}i.addEventListener("animationend",(function(){i.classList.remove("active"),i.classList.remove("success"),i.classList.remove("error")})),a&&a.addEventListener("click",(function(){i.classList.remove("active"),i.classList.remove("success"),i.classList.remove("error")}));var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.product=e}var e,o,r;return e=t,r=[{key:"addCartItemLclStrg",value:function(){var t;t=n("cart-items");var e=new URLSearchParams(window.location.search).get("id");e&&"string"==typeof e&&function(t,e){if("string"!=typeof t)throw"Key must be string";if(t.length<3)throw"Key must be greater than 2";e=JSON.stringify(e),localStorage.setItem(t,e)}("cart-items",null!==t?"".concat(t,", ").concat(e):e)}}],(o=[{key:"create",value:function(){document.querySelector(".product-item"),this.categoryBrand(),this.productImgs(),this.productInfoBuy()}},{key:"categoryBrand",value:function(){var t=document.querySelector(".category-brand > .category > .path-item"),e=document.querySelector(".category-brand > .brand > .path-item");t.innerText=this.product.category,e.innerText=this.product.brand}},{key:"productImgs",value:function(){var t=document.querySelector(".product-imgs > .main-img > img"),e=document.querySelector(".product-imgs > .gallery-imgs");t.setAttribute("src",this.product.thumbnail),t.setAttribute("alt",this.product.title),this.product.images.forEach((function(o,r){var n=document.createElement("button");n.classList.add("gallery-item"),n.addEventListener("mouseover",(function(){t.setAttribute("src",o),document.querySelectorAll(".gallery-item").forEach((function(t){t.style.opacity="1"})),n.style.opacity=".5"}));var i=document.createElement("img");i.setAttribute("src",o),i.setAttribute("alt","Gallery image ".concat(r)),n.appendChild(i),e.appendChild(n)}))}},{key:"productInfoBuy",value:function(){var e=this,o=document.querySelector(".product-info-buy > .container-title > h1"),r=document.querySelector(".product-info-buy > .container-description > p"),a=document.querySelector(".product-info-buy > .container-rating > span"),s=document.querySelector(".product-info-buy > .container-price > .price > .value"),d=document.querySelector(".product-info-buy > .container-price > .discount > .value"),m=document.querySelector(".product-info-buy > .container-stock .value"),f=document.querySelector(".product-info-buy > .container-buy .btn-buy"),y=document.querySelector(".product-info-buy > .container-buy .btn-add-cart");o.innerText=this.product.title,r.innerText=this.product.description,function(t){for(var e=[],o=Number(String(t).slice(0,String(t).indexOf("."))),r=Number(String(t).slice(String(t).indexOf("."))),n=0;n<o;n++)e.push(i());function i(t){var e=document.createElement("span");return e.classList.add("rating-star","material-symbols-outlined","fill-icon"),t?(e.innerText="star_half",e):(e.innerText="star",e)}return r<.5?e.push(i(!0)):e.push(i()),e}(this.product.rating).forEach((function(t){a.appendChild(t)})),a.innerHTML+=this.product.rating,s.innerText=this.product.price,d.innerText=this.product.discountPercentage,m.innerText=this.product.stock,f.addEventListener("click",(function(){t.addCartItemLclStrg.bind(e)()})),y.addEventListener("click",(function(){var o;t.addCartItemLclStrg.bind(e)(),o="ptBr"===n("language")?"Produto adicionado com sucesso ao carrinho":"Product successfully added to cart",i.classList.contains("important")&&i.classList.remove("important"),i.classList.contains("active")?(l++,u.style.display="block",u.innerText=l):(u.style.display="none",i.classList.add("active"),setTimeout((function(){l=1}),4e3)),c.innerText=o,i.classList.add("success")}))}}])&&d(e.prototype,o),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function p(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:String(e)}var v,b=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,o;return e=t,o=[{key:"disable",value:function(t){document.querySelectorAll(t).forEach((function(t){t.remove()}))}},{key:"productDisable",value:function(){var t,e,o,r,n,i,c,u,a,l;t=document.querySelectorAll(".top-content > a.model-load"),e=document.querySelector(".product-item .left-content .main-img.model-load"),o=document.querySelector(".product-item .left-content .main-img > img"),r=document.querySelectorAll(".product-item .left-content .gallery-imgs > .gallery-item.model-load"),o.classList.remove("desactive"),e.classList.remove("model-load"),t.forEach((function(t){t.classList.remove("model-load")})),r.forEach((function(t){t.remove()})),n=document.querySelector(".product-item .right-content .container-title.model-load"),i=document.querySelector(".product-item .right-content .container-description.model-load"),c=document.querySelector(".product-item .right-content .container-rating.model-load"),u=document.querySelector(".product-item .right-content .container-price .price > .value.model-load"),a=document.querySelector(".product-item .right-content .container-price .discount > .value.model-load"),l=document.querySelector(".product-item .right-content .container-stock > span > .value.model-load"),n.classList.remove("model-load"),i.classList.remove("model-load"),c.classList.remove("model-load"),u.classList.remove("model-load"),a.classList.remove("model-load"),l.classList.remove("model-load")}}],null&&p(e.prototype,null),o&&p(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();(v=new URLSearchParams(window.location.search).get("id"))&&"string"==typeof v&&r.getSingleProduct(v,(function(t){new f(t).create(),b.productDisable()}))})();
//# sourceMappingURL=product.js.map